(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1060:function(t,e,n){},1093:function(t,e,n){"use strict";n.r(e);var o,r=n(0),p=n.n(r),a=n(7),m=n(8),c=n(730),l=n(22),d=n(19),y=n(2),u=n(63),s=n(770),b=n(714);n(1060);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var O=Object(a.connect)(function(t){return{lang:t.config.lang,position:t.config.position,cityId:t.config.cityId}},null)(o=function(t){function r(t){var e,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(e=!(o=h(r).call(this,t))||"object"!==i(o)&&"function"!=typeof o?w(n):o).state={collections:null,data:null,page:1,hasMore:!0},e.getCollection=e.getCollection.bind(w(w(e))),e.requestPending=!1,e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(r,p.a.Component),e=r,(n=[{key:"componentDidMount",value:function(){this.getCollection()}},{key:"getCollection",value:function(){var n=this;if(!this.requestPending){this.requestPending=!0;var t=this.props,e=t.match,o=t.cityId,r=this.state,a=r.page,i=r.data,c=e.params.id,l={limit:u.a,page:a,city_uuid:o};Object(s.b)(c,l).then(function(t){if(t&&!t.error){var e=i?f(i).concat(f(t.collection.data)):f(t.collection.data);n.setState({collection:t.collection,data:e,page:a+1,hasMore:t.collection.data.length===u.a})}n.requestPending=!1})}}},{key:"render",value:function(){var t=this.props,s=t.lang,f=t.position,e=this.state,n=e.collection,o=e.data,r=e.hasMore;if(!n)return p.a.createElement(l.a,null);var a=n.translations?n.translations.find(function(t){return t.lang_iso_code===s}):null,i=a&&a.name||n.name||"";return p.a.createElement("div",{className:"collection-page"},p.a.createElement(b.a,null),p.a.createElement("div",{className:"container"},p.a.createElement("h2",null,i),p.a.createElement(c.a,{loadData:this.getCollection,hasMore:r},p.a.createElement("div",{className:"listing row"},o.map(function(t,e){var n=t.translations?t.translations.find(function(t){return t.lang_iso_code===s}):null,o=n&&n.name||t.name||"",r=t.gallery?t.gallery[0]:"",a=t.outlet,i=a&&a.translations?a.translations.find(function(t){return t.lang_iso_code===s}):null,c=i&&i.name||(a?a.name:"")||"",l=t.currency?t.currency.symbol:"â‚«",u=f&&f.latitude&&f.longitude&&a?Object(y.w)({lat:f.latitude,lng:f.longitude},{lat:+a.lat,lng:+a.long}):0;return p.a.createElement("div",{className:"collection-item col-6 col-sm-6 col-md-4 col-lg-2",key:e},p.a.createElement("div",{className:"img-wrapper"},p.a.createElement(m.Link,{to:"/".concat(a?a.slug:"")},p.a.createElement(d.a,{src:r,width:120,height:120})),0<u&&p.a.createElement("div",{className:"distance"},0<+Object(y.I)(u/1e3,1)?"".concat((u/1e3).toFixed(1)," km"):"".concat(u.toFixed(0)," m"))),p.a.createElement("h4",{title:o},p.a.createElement(m.Link,{to:"/".concat(a?a.slug:"")},o)),p.a.createElement("div",{className:"restaurant-name",title:c},c),p.a.createElement("div",{className:"price"},Object(y.s)(t.default_price,l)))})))))}}])&&g(e.prototype,n),o&&g(e,o),r}())||o;e.default=O},714:function(t,e,n){"use strict";var o=n(0),r=n.n(o),a=n(718);e.a=function(){return r.a.createElement(a.Helmet,null,r.a.createElement("title",null,"#SOPA: Online order and Marketing Platform"))}},730:function(t,e,n){"use strict";var o=n(0),a=n.n(o);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var r=function(t){function r(t){var e,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(e=!(o=l(r).call(this,t))||"object"!==i(o)&&"function"!=typeof o?s(n):o).scrollHandler=e.scrollHandler.bind(s(s(e))),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,a.a.Component),e=r,(n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.scrollHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollHandler)}},{key:"scrollHandler",value:function(){var t=document.body,e=document.documentElement,n=window.pageYOffset||document.documentElement.scrollTop;Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)-(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-300<=n&&this.props.hasMore&&this.props.loadData()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.props.children)}}])&&c(e.prototype,n),o&&c(e,o),r}();e.a=r},770:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return c});var o=n(10);function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(t){a(e,t,n[t])})}return e}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(t,e){return Object(o.a)("/collection/".concat(t),r({},e))},c=function(t){return Object(o.a)("/collection",r({},t))}}}]);